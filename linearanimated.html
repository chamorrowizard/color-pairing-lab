<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Color Pairing Lab - Animated Trends</title>
<style>
:root {
  --glass-bg: rgba(255,255,255,0.1);
  --glass-border: rgba(255,255,255,0.2);
  --blur: blur(18px);
  --radius: 18px;
  --transition: 0.35s cubic-bezier(.4,0,.2,1);
  --font: system-ui, -apple-system, sans-serif;
}
* { box-sizing: border-box; font-family: var(--font); }
body {
  margin: 0;
  min-height: 100vh;
  background: #111;
  color: #fff;
  display: flex;
  justify-content: center;
}
.app { width: min(1200px, 95vw); display: grid; gap: 28px; padding: 32px 0; }
.panel { background: var(--glass-bg); backdrop-filter: var(--blur); border-radius: var(--radius); border: 1px solid var(--glass-border); padding: 24px; }
.header { text-align: center; }
.color-input { display: flex; gap: 12px; justify-content: center; }
.color-input input { border-radius: 12px; border: none; padding: 12px; font-size: 1rem; }
.color-input input[type="color"] { width: 50px; height: 50px; padding: 0; cursor: pointer; }
.gradient-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
.gradient-card { min-height: 200px; border-radius: 18px; display: flex; align-items: flex-end; padding: 20px; transition: transform 0.3s ease; cursor: pointer; border: 1px solid rgba(255,255,255,0.1); }
.gradient-card:hover { transform: translateY(-5px); }
.gradient-meta { background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(8px); padding: 15px; border-radius: 12px; width: 100%; }
.gradient-meta h4 { margin: 0; font-size: 1.1rem; }
.gradient-meta p { margin: 5px 0; font-size: 0.85rem; opacity: 0.8; }
.copy-css { font-weight: bold; font-size: 0.75rem; color: #6366F1; margin-top: 8px; text-transform: uppercase; }

/* SHARED ANIMATION KEYFRAMES */
@keyframes fluid-flow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
.animated { background-size: 300% 300% !important; animation: fluid-flow 10s ease infinite !important; }
.footer { text-align: center; opacity: 0.5; padding: 20px; }
</style>
</head>
<body>
<div class="app">
  <div class="header">
    <h1>Color Pairing Lab</h1>
    <p>Click a card to copy the exact CSS for your button</p>
  </div>
  <div class="panel color-input">
    <input type="text" id="colorText" value="#6366F1" />
    <input type="color" id="colorPicker" value="#6366F1"/>
  </div>
  <div class="panel">
    <h2>Gradient Library</h2>
    <div class="gradient-grid" id="gradientGrid"></div>
  </div>
  <div class="footer">Paste the result into your CSS to apply the effect immediately.</div>
</div>
<script>
const hexToRgb = hex => { const n = parseInt(hex.replace("#",""), 16); return { r:(n>>16)&255, g:(n>>8)&255, b:n&255 }; };
const rgbToHex = (r,g,b) => "#" + [r,g,b].map(x=>x.toString(16).padStart(2,"0")).join("");
const rgbToHsl = (r,g,b) => { r/=255; g/=255; b/=255; const max=Math.max(r,g,b), min=Math.min(r,g,b), d=max-min; let h, s, l=(max+min)/2; if(max===min) h=s=0; else { s = l>0.5 ? d/(2-max-min) : d/(max+min); if(max===r) h=(g-b)/d+(g<b?6:0); else if(max===g) h=(b-r)/d+2; else h=(r-g)/d+4; h/=6; } return {h,s,l}; };
const hslToRgb = (h,s,l) => { const hue = (p,q,t) => { if(t<0) t+=1; if(t>1) t-=1; if(t<1/6) return p+(q-p)*6*t; if(t<1/2) return q; if(t<2/3) return p+(q-p)*(2/3-t)*6; return p; }; const q = l<0.5 ? l*(1+s) : l+s-l*s, p = 2*l-q; return { r: Math.round(hue(p,q,h+1/3)*255), g: Math.round(hue(p,q,h)*255), b: Math.round(hue(p,q,h-1/3)*255) }; };

function buildGradients(hex) {
  const {r,g,b} = hexToRgb(hex);
  const hsl = rgbToHsl(r,g,b);
  const compHex = rgbToHex(...Object.values(hslToRgb((hsl.h + 0.5) % 1, hsl.s, hsl.l)));
  const anaHex = rgbToHex(...Object.values(hslToRgb((hsl.h + 0.1)%1, hsl.s, hsl.l)));
  return [
    { title: "Aurora Flow", animated: true, css: `background: linear-gradient(-45deg, ${hex}, ${anaHex}, ${compHex}, ${hex});` },
    { title: "Deep Mesh", animated: true, css: `background: radial-gradient(at 0% 0%, ${hex} 0px, transparent 55%), radial-gradient(at 100% 0%, ${compHex} 0px, transparent 55%), radial-gradient(at 50% 100%, #000 0px, transparent 50%); background-color: ${hex}44;` },
    { title: "Soft Ambient", animated: false, css: `background: linear-gradient(135deg, ${hex}, ${anaHex});` },
    { title: "Neon Glow", animated: false, css: `background: linear-gradient(135deg, #000, ${hex});` }
  ];
}

const grid = document.getElementById("gradientGrid");
const picker = document.getElementById("colorPicker");
const text = document.getElementById("colorText");

function update(hex) {
  if(!hex.startsWith("#") || hex.length < 7) return;
  grid.innerHTML = "";
  buildGradients(hex).forEach(g => {
    const card = document.createElement("div");
    card.className = "gradient-card" + (g.animated ? " animated" : "");
    card.style = g.css;
    card.innerHTML = `<div class="gradient-meta"><h4>${g.title}</h4><div class="copy-css">Click to copy snippet</div></div>`;
    
    card.onclick = () => {
      // THIS IS THE CLEAN CSS SNIPPET LOGIC
      let snippet = `button {\n  ${g.css}\n  border-radius: 10px;\n  height: 2rem;\n  width: 8rem;\n  border: none;\n  color: white;\n  cursor: pointer;\n`;
      if (g.animated) {
        snippet += `  background-size: 300% 300%;\n  animation: fluid-flow 10s ease infinite;\n}\n\n@keyframes fluid-flow {\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n}`;
      } else {
        snippet += `}`;
      }
      navigator.clipboard.writeText(snippet);
      card.querySelector(".copy-css").innerText = "COPIED!";
      setTimeout(() => card.querySelector(".copy-css").innerText = "Click to copy snippet", 2000);
    };
    grid.appendChild(card);
  });
}
picker.oninput = e => { text.value = e.target.value; update(e.target.value); };
text.oninput = e => { if(e.target.value.length === 7) { picker.value = e.target.value; update(e.target.value); } };
update("#6366F1");
</script>
</body>
</html>